{"version":3,"sources":["../src/WithCaret.tsx"],"names":["React","styled","defaultCaretHalfWidth","defaultCaretHeight","InnerCaret","OuterCaret","withCaret","Component","options","isInner","position","height","width","halfWidth","offset","RawCaret","SizedCaret","Math","max","WrappedComponent","className","children","style","vehicle","heading","undefined"],"mappings":"AAAA,OAAOA,KAAP,MAA0C,OAA1C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,SACEC,qBADF,EAEEC,kBAFF,EAGEC,UAHF,EAIEC,UAJF,QAKO,UALP;;AAkBA;AACA;AACA;AACA,eAAe,SAASC,SAAT,CACbC,SADa,EAEbC,OAFa,EAGW;AACxB,MAAMC,OAAO,GAAG,CAAAD,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEE,QAAT,MAAsB,OAAtC;AACA,MAAMC,MAAM,GAAG,CAAAH,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEG,MAAT,KAAmBR,kBAAlC;AACA,MAAMS,KAAK,GAAG,CAAAJ,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEI,KAAT,KAAkBV,qBAAqB,GAAG,CAAxD;AACA,MAAMW,SAAS,GAAGD,KAAK,GAAG,CAA1B;AACA,MAAME,MAAM,GAAG,CAAAN,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEM,MAAT,KAAmB,CAAlC;AACA,MAAMC,QAAQ,GAAGN,OAAO,GAAGL,UAAH,GAAgBC,UAAxC;AACA,MAAMW,UAAU,GACdR,OAAO,SAAP,IAAAA,OAAO,WAAP,IAAAA,OAAO,CAAEG,MAAT,IAAmBG,MAAnB,GACIb,MAAM,CAACc,QAAD,CADV;AAAA;AAAA;AAAA,oIAG+BE,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYP,MAAZ,CAH/B,EAI6BE,SAJ7B,EAK8BA,SAL9B,EAMwBA,SANxB,EAOgBC,MAAM,IAAIL,OAAO,GAAG,CAAH,GAAOE,MAAlB,CAPtB,IAUII,QAXN;AAaA;AACF;AACA;AACA;AACA;;AACE,MAAMI,gBAAgB,GAAG,SAAnBA,gBAAmB;AAAA,QACvBC,SADuB,QACvBA,SADuB;AAAA,QAEvBC,QAFuB,QAEvBA,QAFuB;AAAA,QAGvBC,KAHuB,QAGvBA,KAHuB;AAAA,QAIvBC,OAJuB,QAIvBA,OAJuB;AAAA,wBAMvB,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAEH,SAAtB;AAAiC,MAAA,KAAK,EAAEE,KAAxC;AAA+C,MAAA,OAAO,EAAEC;AAAxD,OACGF,QADH,EAEGE,OAAO,CAACC,OAAR,KAAoB,IAApB,IAA4BD,OAAO,CAACC,OAAR,KAAoBC,SAAhD,iBACC,oBAAC,UAAD;AAAY,MAAA,MAAM,EAAEF,OAAO,CAACC;AAA5B,MAHJ,CANuB;AAAA,GAAzB;;AAcA,SAAOL,gBAAP;AACD","sourcesContent":["import React, { FC, HTMLAttributes } from \"react\";\nimport styled from \"styled-components\";\n\nimport {\n  defaultCaretHalfWidth,\n  defaultCaretHeight,\n  InnerCaret,\n  OuterCaret\n} from \"./styled\";\nimport { VehicleComponentProps } from \"./types\";\n\ninterface CaretOptions {\n  height?: number;\n  offset?: number;\n  position?: \"inner\" | \"outer\";\n  width?: number;\n}\n\ntype IconContainerProps = HTMLAttributes<HTMLDivElement> &\n  VehicleComponentProps;\n\n/**\n * Adds a caret to a component.\n */\nexport default function withCaret(\n  Component: FC<IconContainerProps>,\n  options?: CaretOptions\n): FC<IconContainerProps> {\n  const isInner = options?.position === \"inner\";\n  const height = options?.height || defaultCaretHeight;\n  const width = options?.width || defaultCaretHalfWidth * 2;\n  const halfWidth = width / 2;\n  const offset = options?.offset || 0;\n  const RawCaret = isInner ? InnerCaret : OuterCaret;\n  const SizedCaret =\n    options?.height || offset\n      ? styled(RawCaret)`\n          &::before {\n            border-bottom-width: ${Math.max(0, height)}px;\n            border-left-width: ${halfWidth}px;\n            border-right-width: ${halfWidth}px;\n            margin-left: -${halfWidth}px;\n            top: -${offset + (isInner ? 0 : height)}px;\n          }\n        `\n      : RawCaret;\n\n  /**\n   * Displays a circle, content, and an arrow pointing in the direction\n   * the specified transit vehicle is heading. If no heading is defined,\n   * no arrow/caret is displayed\n   */\n  const WrappedComponent = ({\n    className,\n    children,\n    style,\n    vehicle\n  }: IconContainerProps): JSX.Element => (\n    <Component className={className} style={style} vehicle={vehicle}>\n      {children}\n      {vehicle.heading !== null && vehicle.heading !== undefined && (\n        <SizedCaret rotate={vehicle.heading} />\n      )}\n    </Component>\n  );\n\n  return WrappedComponent;\n}\n"],"file":"WithCaret.js"}