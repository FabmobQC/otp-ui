{"version":3,"sources":["../src/WithCaret.tsx"],"names":["withCaret","Component","options","isInner","position","height","defaultCaretHeight","width","defaultCaretHalfWidth","halfWidth","offset","RawCaret","InnerCaret","OuterCaret","SizedCaret","Math","max","WrappedComponent","className","children","style","vehicle","heading","undefined"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEA;;AAkBA;AACA;AACA;AACe,SAASA,SAAT,CACbC,SADa,EAEbC,OAFa,EAGW;AACxB,QAAMC,OAAO,GAAG,CAAAD,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEE,QAAT,MAAsB,OAAtC;AACA,QAAMC,MAAM,GAAG,CAAAH,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEG,MAAT,KAAmBC,0BAAlC;AACA,QAAMC,KAAK,GAAG,CAAAL,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEK,KAAT,KAAkBC,gCAAwB,CAAxD;AACA,QAAMC,SAAS,GAAGF,KAAK,GAAG,CAA1B;AACA,QAAMG,MAAM,GAAG,CAAAR,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEQ,MAAT,KAAmB,CAAlC;AACA,QAAMC,QAAQ,GAAGR,OAAO,GAAGS,kBAAH,GAAgBC,kBAAxC;AACA,QAAMC,UAAU,GACdZ,OAAO,SAAP,IAAAA,OAAO,WAAP,IAAAA,OAAO,CAAEG,MAAT,IAAmBK,MAAnB,GACI,+BAAOC,QAAP,CADJ;AAAA;AAAA;AAAA,oIAG+BI,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYX,MAAZ,CAH/B,EAI6BI,SAJ7B,EAK8BA,SAL9B,EAMwBA,SANxB,EAOgBC,MAAM,IAAIP,OAAO,GAAG,CAAH,GAAOE,MAAlB,CAPtB,IAUIM,QAXN;AAaA;AACF;AACA;AACA;AACA;;AACE,QAAMM,gBAAgB,GAAG,CAAC;AACxBC,IAAAA,SADwB;AAExBC,IAAAA,QAFwB;AAGxBC,IAAAA,KAHwB;AAIxBC,IAAAA;AAJwB,GAAD,kBAMvB,6BAAC,SAAD;AAAW,IAAA,SAAS,EAAEH,SAAtB;AAAiC,IAAA,KAAK,EAAEE,KAAxC;AAA+C,IAAA,OAAO,EAAEC;AAAxD,KACGF,QADH,EAEGE,OAAO,CAACC,OAAR,KAAoB,IAApB,IAA4BD,OAAO,CAACC,OAAR,KAAoBC,SAAhD,iBACC,6BAAC,UAAD;AAAY,IAAA,MAAM,EAAEF,OAAO,CAACC;AAA5B,IAHJ,CANF;;AAcA,SAAOL,gBAAP;AACD","sourcesContent":["import React, { FC, HTMLAttributes } from \"react\";\nimport styled from \"styled-components\";\n\nimport {\n  defaultCaretHalfWidth,\n  defaultCaretHeight,\n  InnerCaret,\n  OuterCaret\n} from \"./styled\";\nimport { VehicleComponentProps } from \"./types\";\n\ninterface CaretOptions {\n  height?: number;\n  offset?: number;\n  position?: \"inner\" | \"outer\";\n  width?: number;\n}\n\ntype IconContainerProps = HTMLAttributes<HTMLDivElement> &\n  VehicleComponentProps;\n\n/**\n * Adds a caret to a component.\n */\nexport default function withCaret(\n  Component: FC<IconContainerProps>,\n  options?: CaretOptions\n): FC<IconContainerProps> {\n  const isInner = options?.position === \"inner\";\n  const height = options?.height || defaultCaretHeight;\n  const width = options?.width || defaultCaretHalfWidth * 2;\n  const halfWidth = width / 2;\n  const offset = options?.offset || 0;\n  const RawCaret = isInner ? InnerCaret : OuterCaret;\n  const SizedCaret =\n    options?.height || offset\n      ? styled(RawCaret)`\n          &::before {\n            border-bottom-width: ${Math.max(0, height)}px;\n            border-left-width: ${halfWidth}px;\n            border-right-width: ${halfWidth}px;\n            margin-left: -${halfWidth}px;\n            top: -${offset + (isInner ? 0 : height)}px;\n          }\n        `\n      : RawCaret;\n\n  /**\n   * Displays a circle, content, and an arrow pointing in the direction\n   * the specified transit vehicle is heading. If no heading is defined,\n   * no arrow/caret is displayed\n   */\n  const WrappedComponent = ({\n    className,\n    children,\n    style,\n    vehicle\n  }: IconContainerProps): JSX.Element => (\n    <Component className={className} style={style} vehicle={vehicle}>\n      {children}\n      {vehicle.heading !== null && vehicle.heading !== undefined && (\n        <SizedCaret rotate={vehicle.heading} />\n      )}\n    </Component>\n  );\n\n  return WrappedComponent;\n}\n"],"file":"WithCaret.js"}