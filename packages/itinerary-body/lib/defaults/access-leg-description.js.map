{"version":3,"sources":["../../src/defaults/access-leg-description.tsx"],"names":["getSummaryMode","leg","intl","mode","formatMessage","defaultMessage","defaultMessages","description","id","rideHailingEstimate","AccessLegDescription","className","config","style","toPlace","to","vertexType","modeContent","placeContent","companies","distance","place"],"mappings":"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","sourcesContent":["import { humanizeDistanceString } from \"@opentripplanner/humanize-distance\";\nimport { Config, Leg } from \"@opentripplanner/types\";\nimport React, { HTMLAttributes, ReactElement } from \"react\";\nimport { FormattedMessage, IntlShape, useIntl } from \"react-intl\";\nimport * as S from \"../styled\";\n\nimport { defaultMessages, getPlaceName } from \"../util\";\n\ninterface Props extends HTMLAttributes<HTMLSpanElement> {\n  config: Config;\n  leg: Leg;\n}\n\n/**\n * Gets the summary mode in the ambient language.\n */\nexport function getSummaryMode(leg: Leg, intl: IntlShape): string {\n  switch (leg.mode) {\n    case \"BICYCLE\":\n      return intl.formatMessage({\n        defaultMessage: defaultMessages[\"otpUi.AccessLegBody.summaryMode.bike\"],\n        description: \"Bike to somewhere\",\n        id: \"otpUi.AccessLegBody.summaryMode.bike\"\n      });\n    case \"BICYCLE_RENT\":\n      return intl.formatMessage({\n        defaultMessage:\n          defaultMessages[\"otpUi.AccessLegBody.summaryMode.bikeshare\"],\n        description: \"Bikeshare to somewhere\",\n        id: \"otpUi.AccessLegBody.summaryMode.bikeshare\"\n      });\n    case \"CAR\":\n      return leg.rideHailingEstimate\n        ? intl.formatMessage({\n            defaultMessage:\n              defaultMessages[\"otpUi.AccessLegBody.summaryMode.carHail\"],\n            description: \"Ride in a car/taxi to somewhere\",\n            id: \"otpUi.AccessLegBody.summaryMode.carHail\"\n          })\n        : intl.formatMessage({\n            defaultMessage:\n              defaultMessages[\"otpUi.AccessLegBody.summaryMode.carDrive\"],\n            description: \"Drive somewhere\",\n            id: \"otpUi.AccessLegBody.summaryMode.carDrive\"\n          });\n    case \"MICROMOBILITY\":\n    case \"MICROMOBILITY_RENT\":\n    case \"SCOOTER\":\n      return intl.formatMessage({\n        defaultMessage:\n          defaultMessages[\"otpUi.AccessLegBody.summaryMode.escooter\"],\n        description: \"Use an e-scooter\",\n        id: \"otpUi.AccessLegBody.summaryMode.escooter\"\n      });\n    case \"WALK\":\n      return intl.formatMessage({\n        defaultMessage: defaultMessages[\"otpUi.AccessLegBody.summaryMode.walk\"],\n        description: \"Walk to somewhere\",\n        id: \"otpUi.AccessLegBody.summaryMode.walk\"\n      });\n    default:\n      return leg.mode;\n  }\n}\n\n/**\n * Renders leg description text, e.g. \"Walk 0.5 mi to...\"\n * while letting others style the mode and place text.\n */\nexport default function AccessLegDescription({\n  className,\n  config,\n  leg,\n  style\n}: Props): ReactElement {\n  const intl = useIntl();\n  // Replace the Vertex Type for BIKESHARE with VEHICLE as we do not know that\n  // it is a bike yet because that information is in the next leg with OTP2.\n  const toPlace = {\n    ...leg.to,\n    vertexType:\n      leg.to.vertexType === \"BIKESHARE\" ? \"VEHICLE\" : leg.to.vertexType\n  };\n  const modeContent = getSummaryMode(leg, intl);\n  const placeContent = (\n    <S.LegDescriptionPlace>\n      {getPlaceName(toPlace, config.companies, intl)}\n    </S.LegDescriptionPlace>\n  );\n\n  return (\n    // Return an HTML element which is passed a className (and style props)\n    // for styled-components support.\n    <span className={className} style={style}>\n      {leg.distance > 0 ? (\n        <FormattedMessage\n          defaultMessage=\"{mode} {distance} to {place}\"\n          description=\"Summarizes an access leg, including distance\"\n          id=\"otpUi.AccessLegBody.summaryAndDistance\"\n          values={{\n            // TODO: Implement metric vs imperial (up until now it's just imperial).\n            distance: humanizeDistanceString(leg.distance, false, intl),\n            mode: modeContent,\n            place: placeContent\n          }}\n        />\n      ) : (\n        <FormattedMessage\n          defaultMessage=\"{mode} to {place}\"\n          description=\"Summarizes an access leg\"\n          id=\"otpUi.AccessLegBody.summary\"\n          values={{\n            mode: modeContent,\n            place: placeContent\n          }}\n        />\n      )}\n    </span>\n  );\n}\n"],"file":"access-leg-description.js"}