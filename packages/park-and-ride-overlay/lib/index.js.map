{"version":3,"sources":["../src/index.tsx"],"names":["ParkAndRideOverlay","props","parkAndRideLocations","setLocation","length","map","location","k","name","startsWith","substring","offset","lat","y","lon","x"],"mappings":";;;;;;;;;AAAA;;AAIA;;AAGA;;AACA;;AAcA,MAAMA,kBAAkB,GAAIC,KAAD,IAA+B;AACxD,QAAM;AAAEC,IAAAA,oBAAF;AAAwBC,IAAAA;AAAxB,MAAwCF,KAA9C;AACA,MAAI,CAACC,oBAAD,IAAyBA,oBAAoB,CAACE,MAArB,KAAgC,CAA7D,EAAgE,OAAO,IAAP;AAEhE,sBACE,4DACGF,oBAAoB,CAACG,GAArB,CAAyB,CAACC,QAAD,EAAWC,CAAX,KAAiB;AACzC;AACA,UAAMC,IAAI,GAAGF,QAAQ,CAACE,IAAT,CAAcC,UAAd,CAAyB,MAAzB,IACTH,QAAQ,CAACE,IAAT,CAAcE,SAAd,CAAwB,CAAxB,CADS,GAETJ,QAAQ,CAACE,IAFb;AAIA,wBACE,6BAAC,wBAAD,CACE;AACA;AAFF;AAGE,MAAA,UAAU,EAAE;AAAEG,QAAAA,MAAM,EAAE;AAAV,OAHd;AAIE,MAAA,aAAa,eACX,6BAAC,eAAD,CAAe,eAAf,qBACE,6BAAC,eAAD,CAAe,UAAf,QAA2BH,IAA3B,CADF,eAEE,6BAAC,eAAD,CAAe,QAAf,qBACE,6BAAC,6BAAD;AACE,QAAA,KAAK,MADP;AAEE,QAAA,QAAQ,EAAE;AACRI,UAAAA,GAAG,EAAEN,QAAQ,CAACO,CADN;AAERC,UAAAA,GAAG,EAAER,QAAQ,CAACS,CAFN;AAGRP,UAAAA;AAHQ,SAFZ;AAOE,QAAA,WAAW,EAAEL;AAPf,QADF,CAFF,CALJ;AAoBE,MAAA,GAAG,EAAEI,CApBP;AAqBE,MAAA,QAAQ,EAAE,CAACD,QAAQ,CAACO,CAAV,EAAaP,QAAQ,CAACS,CAAtB;AArBZ,oBAuBE,6BAAC,0BAAD,OAvBF,CADF;AA2BD,GAjCA,CADH,CADF;AAsCD,CA1CD;;eA4Cef,kB","sourcesContent":["import {\n  Styled as BaseMapStyled,\n  MarkerWithPopup\n} from \"@opentripplanner/base-map\";\nimport FromToLocationPicker from \"@opentripplanner/from-to-location-picker\";\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { Location } from \"@opentripplanner/types\";\nimport React from \"react\";\nimport ParkAndRideMarker from \"./park-and-ride-marker\";\n\ntype Props = {\n  id?: string;\n  keyboard?: boolean;\n  parkAndRideLocations: { name: string; x: number; y: number }[];\n  setLocation: ({\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    location: Location,\n    locationType: string,\n    reverseGeocode: boolean\n  }) => void;\n};\n\nconst ParkAndRideOverlay = (props: Props): JSX.Element => {\n  const { parkAndRideLocations, setLocation } = props;\n  if (!parkAndRideLocations || parkAndRideLocations.length === 0) return null;\n\n  return (\n    <>\n      {parkAndRideLocations.map((location, k) => {\n        // TODO: extract park-and-ride names from international \"Park-And-Ride\" string constructs.\n        const name = location.name.startsWith(\"P+R \")\n          ? location.name.substring(4)\n          : location.name;\n\n        return (\n          <MarkerWithPopup\n            // TODO: find a better way to handle popupProps\n            // @ts-expect-error lat and lng aren't optional, but are being set by the child\n            popupProps={{ offset: 10 }}\n            popupContents={\n              <BaseMapStyled.MapOverlayPopup>\n                <BaseMapStyled.PopupTitle>{name}</BaseMapStyled.PopupTitle>\n                <BaseMapStyled.PopupRow>\n                  <FromToLocationPicker\n                    label\n                    location={{\n                      lat: location.y,\n                      lon: location.x,\n                      name\n                    }}\n                    setLocation={setLocation}\n                  />\n                </BaseMapStyled.PopupRow>\n              </BaseMapStyled.MapOverlayPopup>\n            }\n            key={k}\n            position={[location.y, location.x]}\n          >\n            <ParkAndRideMarker />\n          </MarkerWithPopup>\n        );\n      })}\n    </>\n  );\n};\n\nexport default ParkAndRideOverlay;\n"],"file":"index.js"}