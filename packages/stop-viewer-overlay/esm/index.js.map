{"version":3,"sources":["../src/index.tsx"],"names":["useMap","React","useEffect","StopViewerOverlay","stop","StopMarker","visible","current","flyTo","center","lon","lat"],"mappings":"AACA,SAASA,MAAT,QAAuB,cAAvB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;AAIA;AACA;AACA;AACA;AACA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,OAQP;AAAA,MAPjBC,IAOiB,QAPjBA,IAOiB;AAAA,MANjBC,UAMiB,QANjBA,UAMiB;AAAA,MALjBC,OAKiB,QALjBA,OAKiB;;AACjB,gBAAoBN,MAAM,EAA1B;AAAA,MAAQO,OAAR,WAAQA,OAAR;AACA;AACF;AACA;AACA;AACA;;;AACEL,EAAAA,SAAS,CAAC,YAAM;AACdK,IAAAA,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEC,KAAT,CAAe;AAAEC,MAAAA,MAAM,EAAE,CAACL,IAAI,CAACM,GAAN,EAAWN,IAAI,CAACO,GAAhB;AAAV,KAAf;AACD,GAFQ,EAEN,CAACP,IAAI,CAACO,GAAN,EAAWP,IAAI,CAACM,GAAhB,CAFM,CAAT,CAPiB,CAWjB;;AACA,MAAIJ,OAAO,KAAK,KAAZ,IAAqB,CAACF,IAAtB,IAA8B,CAACC,UAAnC,EAA+C,oBAAO,yCAAP;AAE/C,sBAAO,oBAAC,UAAD;AAAY,IAAA,IAAI,EAAED;AAAlB,IAAP;AACD,CAvBD;;AAyBA,eAAeD,iBAAf","sourcesContent":["import { Stop } from \"@opentripplanner/types\";\nimport { useMap } from \"react-map-gl\";\nimport React, { useEffect } from \"react\";\n\nexport type StopContainer = { stop: Stop };\n\n/**\n * This overlay is intended to highlight a specific stop on a map typically in\n * conjunction with some kind of stop viewer.\n */\nconst StopViewerOverlay = ({\n  stop,\n  StopMarker,\n  visible\n}: {\n  stop: Stop;\n  StopMarker: React.FunctionComponent<StopContainer>;\n  visible?: boolean;\n}): JSX.Element => {\n  const { current } = useMap();\n  /**\n   * Only reset map view if a new stop is selected. This prevents resetting the\n   * bounds if, for example, the arrival times have changed for the same stop\n   * in the viewer.\n   */\n  useEffect(() => {\n    current?.flyTo({ center: [stop.lon, stop.lat] });\n  }, [stop.lat, stop.lon]);\n\n  // Null can't be returned here -- react-map-gl dislikes null values as children\n  if (visible === false || !stop || !StopMarker) return <></>;\n\n  return <StopMarker stop={stop} />;\n};\n\nexport default StopViewerOverlay;\n"],"file":"index.js"}